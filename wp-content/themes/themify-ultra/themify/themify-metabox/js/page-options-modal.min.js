'use strict';(function(f,c,k){const l={modal:null,wrap:null,active:!1,url:!1,fr:!1,init(a){this.loader("show");this.url="A"===a.tagName?a.href:a.getElementsByTagName("A")[0].href;a=c.createElement("div");const b=c.createElement("div"),d=c.createElement("div"),g=c.createElement("div"),h=c.createElement("div"),e=c.createElement("div");a.id="tf_page_options_modal";a.className="tf_scrollbar";b.className="tf_w tf_h tf_rel";d.className="tf_page_options_toolbar";g.className="tf_page_options_title";g.innerText=
k.pg_opt_t;d.appendChild(g);e.className="tf_page_options_save";e.innerText=k.pg_opt_updt;e.addEventListener("click",this.save.bind(this),{passive:!0});d.appendChild(e);h.className="tf_page_options_close tf_close";h.addEventListener("click",this.close,{once:!0,passive:!0});d.appendChild(h);b.appendChild(d);a.appendChild(b);this.wrap=b;this.modal=a;c.body.appendChild(a);this.loadIframe()},loadIframe(){const a=this;if(!a.active){var b=c.createElement("iframe");b.src=a.url;b.className="tf_w tf_h";b.onload=
function(){a.loader("hide");a.modal.classList.remove("updating");const d=b.contentDocument.getElementById("post");d.action="post.php?tf-meta-opts=update";b.contentDocument.body.appendChild(d);b.contentDocument.getElementById("wpwrap").remove();f.body[0].className+=" tf_page_options_active";b.contentWindow.document.documentElement.className+=" tf_scrollbar";a.active=!0};a.fr=b;this.wrap.appendChild(b)}},close(){window.location.reload()},save(){this.modal.className+=" updating";this.loader("show");
this.fr.contentDocument.querySelector("#post").submit()},loader(a){"show"===a?(a=c.createElement("div"),a.id="tb_alert",a.className="tb_busy",c.body.appendChild(a)):(a=c.getElementById("tb_alert"))&&a.remove()}};f.on("tf_page_options_init",function(a){l.init(a)})})(Themify,document,themify_vars);
